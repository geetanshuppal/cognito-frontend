(this["webpackJsonpreact-assignment"]=this["webpackJsonpreact-assignment"]||[]).push([[0],{151:function(e,t,n){},152:function(e,t,n){},269:function(e,t,n){"use strict";n.r(t);var r,a=n(0),c=n.n(a),s=n(17),i=n.n(s),o=(n(151),n(152),n(28)),l=n(19),j=n(135),d=n(322),u=n(317),h=n(318),b=n(7),O=n.n(b),x=n(13),m=n(9),p=n(319),f=p.a.create({baseURL:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_URL:"https://llqwp3a2sg.execute-api.us-east-2.amazonaws.com/stage/api"}).API_BASE_URL,headers:{"Content-Type":"application/json"}}),v=function(){var e=Object(x.a)(O.a.mark((function e(t){var n,r;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.post("/signup",t);case 3:return n=e.sent,e.abrupt("return",n.data);case 7:throw e.prev=7,e.t0=e.catch(0),(r=e.t0).response?r.response.data:new Error("Server Error");case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),w=function(){var e=Object(x.a)(O.a.mark((function e(t){var n,r;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.post("/verify",t);case 3:return n=e.sent,e.abrupt("return",n.data);case 7:throw e.prev=7,e.t0=e.catch(0),(r=e.t0).response?r.response.data:new Error("Server Error");case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),g=function(){var e=Object(x.a)(O.a.mark((function e(t){var n,r;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.post("/signin",t);case 3:return n=e.sent,e.abrupt("return",n.data);case 7:throw e.prev=7,e.t0=e.catch(0),(r=e.t0).response?r.response.data:new Error("Server Error");case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),y=n(1);!function(e){e[e.Loading=0]="Loading",e[e.SignedIn=1]="SignedIn",e[e.SignedOut=2]="SignedOut"}(r||(r={}));var S={sessionInfo:{},authStatus:r.Loading},I=c.a.createContext(S),C=function(e){var t=e.children,n=Object(a.useContext)(I).authStatus;return Object(y.jsx)(y.Fragment,{children:n===r.SignedIn?t:null})},P=function(e){var t=e.children,n=Object(a.useContext)(I).authStatus;return Object(y.jsx)(y.Fragment,{children:n===r.SignedOut?t:null})},k=function(e){var t=e.children,n=Object(a.useState)(r.Loading),c=Object(m.a)(n,2),s=c[0],i=c[1];if(Object(a.useEffect)((function(){i(r.SignedOut)}),[i,s]),s===r.Loading)return null;function o(){return(o=Object(x.a)(O.a.mark((function e(t,n){var a,c,s,o,l;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g({email:t,password:n});case 3:return a=e.sent,console.log("signInResponse",a),200==a.statusCode&&(window.localStorage.setItem("accessToken","".concat(null===a||void 0===a||null===(c=a.response)||void 0===c||null===(s=c.token)||void 0===s?void 0:s.accessToken)),window.localStorage.setItem("refreshToken","".concat(null===a||void 0===a||null===(o=a.response)||void 0===o||null===(l=o.session)||void 0===l?void 0:l.refreshToken)),i(r.SignedIn)),e.abrupt("return",a);case 9:throw e.prev=9,e.t0=e.catch(0),i(r.SignedOut),e.t0;case 13:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}function l(){return(l=Object(x.a)(O.a.mark((function e(t,n,r){var a;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v({name:t,email:n,password:r});case 3:return a=e.sent,e.abrupt("return",a);case 7:throw e.prev=7,e.t0=e.catch(0),e.t0;case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function j(){return(j=Object(x.a)(O.a.mark((function e(t,n){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,w({email:t,codeEmailVerify:n});case 3:e.next=8;break;case 5:throw e.prev=5,e.t0=e.catch(0),e.t0;case 8:case"end":return e.stop()}}),e,null,[[0,5]])})))).apply(this,arguments)}var d={authStatus:s,signUpWithEmail:function(e,t,n){return l.apply(this,arguments)},signInWithEmail:function(e,t){return o.apply(this,arguments)},verifyCode:function(e,t){return j.apply(this,arguments)},signOut:function(){window.localStorage.setItem("accessToken",""),window.localStorage.setItem("refreshToken",""),i(r.SignedOut)}};return Object(y.jsx)(I.Provider,{value:d,children:t})},E=n(302),V=n(321),_=n(303),U=n(304),T=n(273),A=n(137),R=n(36),N=function(e){var t=Object(a.useState)(e),n=Object(m.a)(t,2),r=n[0],c=n[1],s=Object(a.useState)(!0),i=Object(m.a)(s,2),o=i[0],l=i[1];return Object(a.useEffect)((function(){var e=R.a().shape({email:R.b().email().required()});if(0!==r.length){var t=e.isValidSync({email:r});l(t)}else l(!0)}),[r]),{email:r,setEmail:c,emailIsValid:o}},L=function(e){var t=Object(a.useState)(e),n=Object(m.a)(t,2),r=n[0],c=n[1],s=Object(a.useState)(!0),i=Object(m.a)(s,2),o=i[0],l=i[1];return Object(a.useEffect)((function(){var e=R.a().shape({password:R.b().min(8,"Password must be at least 8 characters long").matches(/[A-Z]/,"Password must contain at least one uppercase letter").matches(/[a-z]/,"Password must contain at least one lowercase letter").matches(/[0-9]/,"Password must contain at least one number").matches(/[\W_]/,"Password must contain at least one special character").required("Password is required")});if(0!==r.length){var t=e.isValidSync({password:r});l(t)}else l(!0)}),[r]),{password:r,setPassword:c,passwordIsValid:o}},W=function(e){var t=Object(a.useState)(e),n=Object(m.a)(t,2),r=n[0],c=n[1],s=Object(a.useState)(!0),i=Object(m.a)(s,2),o=i[0],l=i[1];return Object(a.useEffect)((function(){var e=R.a().shape({username:R.b().min(8).required()});if(0!==r.length){var t=e.isValidSync({username:r});l(t)}else l(!0)}),[r]),{username:r,setUsername:c,usernameIsValid:o}},F=function(e){var t=Object(a.useState)(e),n=Object(m.a)(t,2),r=n[0],c=n[1],s=Object(a.useState)(!0),i=Object(m.a)(s,2),o=i[0],l=i[1];return Object(a.useEffect)((function(){var e=R.a().shape({code:R.b().min(6).required()});if(0!==r.length){var t=e.isValidSync({code:r});l(t)}else l(!0)}),[r]),{code:r,setCode:c,codeIsValid:o}},D=n(320),B=function(e){var t=e.emailIsValid,n=e.setEmail;return Object(y.jsx)(D.a,{fullWidth:!0,variant:"outlined",label:t?"Email":"Invalid Email",error:!t,onChange:function(e){n(e.target.value)}})},H=function(e){var t=e.label,n=e.passwordIsValid,r=e.setPassword;return Object(y.jsx)(D.a,{fullWidth:!0,type:"password",variant:"outlined",label:n?t:"Invalid Password ",error:!n,helperText:"Must include 1 number, 1 special character, 1 uppercase letter, and 1 lowercase letter.",onChange:function(e){r(e.target.value)}})},q=function(e){var t=e.usernameIsValid,n=e.setUsername;return Object(y.jsx)(D.a,{fullWidth:!0,variant:"outlined",label:t?"Username":"Minimum 8 characters",error:!t,onChange:function(e){n(e.target.value)}})},K=function(e){var t=e.codeIsValid,n=e.setCode;return Object(y.jsx)(D.a,{fullWidth:!0,variant:"outlined",label:t?"Code":"Minimum 6 characters",error:!t,onChange:function(e){n(e.target.value)}})},z=Object(E.a)({root:{height:"100vh"},hover:{"&:hover":{cursor:"pointer"}}}),M=function(){var e=z(),t=L(""),n=t.password,r=t.setPassword,c=t.passwordIsValid,s=Object(a.useState)(""),i=Object(m.a)(s,2),o=i[0],j=i[1],d=N(""),u=d.email,h=d.setEmail,b=d.emailIsValid,p=Object(l.f)(),f=!b||0===u.length||!c||0===n.length||!c||0===n.length,v=Object(a.useContext)(I),w=function(){var e=Object(x.a)(O.a.mark((function e(){var t;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v.signInWithEmail(u,n);case 3:200==(null===(t=e.sent)||void 0===t?void 0:t.statusCode)?p.push("UsersList"):j(t.response),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),"UserNotConfirmedException"===e.t0.code?p.push("verify"):j(e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();return Object(y.jsx)(_.a,{className:e.root,container:!0,direction:"row",justify:"center",alignItems:"center",children:Object(y.jsx)(_.a,{xs:11,sm:6,lg:4,container:!0,direction:"row",justify:"center",alignItems:"center",item:!0,children:Object(y.jsx)(A.a,{style:{width:"100%",padding:32},children:Object(y.jsxs)(_.a,{container:!0,direction:"column",justify:"center",alignItems:"center",children:[Object(y.jsx)(V.a,{m:2,children:Object(y.jsx)(T.a,{variant:"h3",children:"Sign in"})}),Object(y.jsx)(V.a,{width:"80%",m:1,children:Object(y.jsx)(B,{emailIsValid:b,setEmail:h})}),Object(y.jsxs)(V.a,{width:"80%",m:1,children:[Object(y.jsx)(H,{label:"Password",passwordIsValid:c,setPassword:r}),Object(y.jsx)(_.a,{container:!0,direction:"row",justify:"flex-start",alignItems:"center"})]}),Object(y.jsx)(V.a,{mt:2,children:Object(y.jsx)(T.a,{color:"error",variant:"body2",children:o})}),Object(y.jsx)(V.a,{mt:2,children:Object(y.jsxs)(_.a,{container:!0,direction:"row",justify:"center",children:[Object(y.jsx)(V.a,{m:1,children:Object(y.jsx)(U.a,{color:"secondary",variant:"contained",onClick:function(){return p.goBack()},children:"Cancel"})}),Object(y.jsx)(V.a,{m:1,children:Object(y.jsx)(U.a,{disabled:f,color:"primary",variant:"contained",onClick:w,children:"Sign In"})})]})}),Object(y.jsx)(V.a,{mt:2,children:Object(y.jsx)(V.a,{onClick:function(){return p.push("signup")},children:Object(y.jsx)(T.a,{className:e.hover,variant:"body1",children:"Register a new account"})})})]})})})})},J=Object(E.a)({root:{height:"100vh"}}),Z=function(){var e=J(),t=N(""),n=t.email,r=t.setEmail,c=t.emailIsValid,s=L(""),i=s.password,o=s.setPassword,j=s.passwordIsValid,d=W(""),u=d.username,h=d.setUsername,b=d.usernameIsValid,p=Object(a.useState)(""),f=Object(m.a)(p,2),v=f[0],w=f[1],g=Object(a.useState)(!1),S=Object(m.a)(g,2),C=S[0],P=S[1],k=L(""),E=k.password,R=k.setPassword,F=k.passwordIsValid,D=!c||0===n.length||!b||0===u.length||!j||0===i.length||!F||0===E.length,K=Object(l.f)(),z=Object(a.useContext)(I),M=function(){var e=Object(x.a)(O.a.mark((function e(){var t,r;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,z.signUpWithEmail(u,n,i);case 3:if(200!=(r=e.sent).statusCode){e.next=7;break}return P(!0),e.abrupt("return");case 7:w((null===r||void 0===r||null===(t=r.response)||void 0===t?void 0:t.message)||"something went wrong!!"),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),e.t0 instanceof Error&&w(e.t0.message);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}(),Z=Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(V.a,{width:"80%",m:1,children:Object(y.jsx)(B,{emailIsValid:c,setEmail:r})}),Object(y.jsx)(V.a,{width:"80%",m:1,children:Object(y.jsx)(q,{usernameIsValid:b,setUsername:h})}),Object(y.jsx)(V.a,{width:"80%",m:1,children:Object(y.jsx)(H,{label:"Password",passwordIsValid:j,setPassword:o})}),Object(y.jsx)(V.a,{width:"80%",m:1,children:Object(y.jsx)(H,{label:"Confirm Password",passwordIsValid:F,setPassword:R})}),Object(y.jsx)(V.a,{mt:2}),Object(y.jsx)(V.a,{mt:2,children:Object(y.jsx)(T.a,{color:"error",variant:"body2",children:v})}),Object(y.jsx)(V.a,{mt:2,children:Object(y.jsxs)(_.a,{container:!0,direction:"row",justify:"center",children:[Object(y.jsx)(V.a,{m:1,children:Object(y.jsx)(U.a,{onClick:function(){return K.goBack()},color:"secondary",variant:"contained",children:"Cancel"})}),Object(y.jsx)(V.a,{m:1,children:Object(y.jsx)(U.a,{disabled:D,color:"primary",variant:"contained",onClick:M,children:"Sign Up"})})]})})]}),G=Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(T.a,{align:"center",variant:"h5",children:"Created ".concat(u," account")}),Object(y.jsx)(T.a,{align:"center",variant:"h6",children:"Verfiy Code sent to ".concat(n)}),Object(y.jsx)(V.a,{m:4,children:Object(y.jsx)(U.a,{onClick:function(){return K.push("/verify")},color:"primary",variant:"contained",children:"Verify Code"})})]});return Object(y.jsx)(_.a,{className:e.root,container:!0,direction:"row",justify:"center",alignItems:"center",children:Object(y.jsx)(_.a,{xs:11,sm:6,lg:4,container:!0,direction:"row",justify:"center",alignItems:"center",item:!0,children:Object(y.jsx)(A.a,{style:{width:"100%",padding:16},children:Object(y.jsxs)(_.a,{container:!0,direction:"column",justify:"center",alignItems:"center",children:[Object(y.jsx)(V.a,{m:3,children:Object(y.jsx)(_.a,{container:!0,direction:"row",justify:"center",alignItems:"center",children:Object(y.jsx)(T.a,{variant:"h3",children:"Sign Up"})})}),C?G:Z]})})})})},G=Object(E.a)({root:{height:"100vh"},hover:{"&:hover":{cursor:"pointer"}}}),Q=function(){var e=G(),t=N(""),n=t.email,r=t.setEmail,c=t.emailIsValid,s=F(""),i=s.code,o=s.setCode,j=s.codeIsValid,d=Object(a.useState)(""),u=Object(m.a)(d,2),h=u[0],b=u[1],p=!c||0===n.length||!j||0===i.length,f=Object(l.f)(),v=Object(a.useContext)(I),w=function(){var e=Object(x.a)(O.a.mark((function e(){var t,r;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v.verifyCode(n,i);case 3:if(200!=(r=e.sent).statusCode){e.next=7;break}return f.push("signin"),e.abrupt("return");case 7:b((null===r||void 0===r||null===(t=r.response)||void 0===t?void 0:t.message)||"something went wrong!!"),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),b("Invalid Code");case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}(),g=function(){var e=Object(x.a)(O.a.mark((function e(){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:f.push("/resetpassword");case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(y.jsx)(_.a,{className:e.root,container:!0,direction:"row",justify:"center",alignItems:"center",children:Object(y.jsx)(_.a,{xs:11,sm:6,lg:4,container:!0,direction:"row",justify:"center",alignItems:"center",item:!0,children:Object(y.jsx)(A.a,{style:{width:"100%",padding:32},children:Object(y.jsxs)(_.a,{container:!0,direction:"column",justify:"center",alignItems:"center",children:[Object(y.jsx)(V.a,{m:2,children:Object(y.jsx)(T.a,{variant:"h3",children:"Verify Code"})}),Object(y.jsx)(V.a,{width:"80%",m:1,children:Object(y.jsx)(B,{emailIsValid:c,setEmail:r})}),Object(y.jsxs)(V.a,{width:"80%",m:1,children:[Object(y.jsx)(K,{codeIsValid:j,setCode:o}),Object(y.jsx)(_.a,{container:!0,direction:"row",justify:"flex-start",alignItems:"center",children:Object(y.jsx)(V.a,{onClick:g,mt:2,children:Object(y.jsx)(V.a,{mt:2,children:Object(y.jsx)(T.a,{color:"error",variant:"body2",children:h})})})})]}),Object(y.jsx)(V.a,{mt:2,children:Object(y.jsxs)(_.a,{container:!0,direction:"row",justify:"center",children:[Object(y.jsx)(V.a,{m:1,children:Object(y.jsx)(U.a,{color:"secondary",variant:"contained",onClick:function(){return f.goBack()},children:"Cancel"})}),Object(y.jsx)(V.a,{m:1,children:Object(y.jsx)(U.a,{disabled:p,color:"primary",variant:"contained",onClick:w,children:"Send"})})]})})]})})})})},X=Object(E.a)({root:{height:"100vh"},hover:{"&:hover":{cursor:"pointer"}},text:{textAlign:"center"}});function Y(){var e=X(),t=W(""),n=t.username,r=t.setUsername,c=t.usernameIsValid,s=Object(a.useState)(""),i=Object(m.a)(s,2),o=i[0],j=i[1],d=Object(a.useState)(!1),u=Object(m.a)(d,2),h=u[0],b=u[1],p=!c||0===n.length,f=Object(l.f)(),v=Object(a.useContext)(I),w=function(){var e=Object(x.a)(O.a.mark((function e(){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v.sendCode(n);case 3:b(!0),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),j("Unknown user");case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}(),g=Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(V.a,{mt:1,children:Object(y.jsx)(T.a,{className:e.text,variant:"h5",children:"Reset Code Sent to ".concat(n)})}),Object(y.jsx)(V.a,{mt:4,children:Object(y.jsx)(U.a,{onClick:function(){return f.push("forgotpassword")},color:"primary",variant:"contained",children:"Reset Password"})})]}),S=Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(V.a,{width:"80%",m:1,children:Object(y.jsx)(q,{usernameIsValid:c,setUsername:r})}),Object(y.jsx)(V.a,{mt:2,children:Object(y.jsx)(T.a,{color:"error",variant:"body2",children:o})}),Object(y.jsx)(V.a,{mt:2,children:Object(y.jsxs)(_.a,{container:!0,direction:"row",justify:"center",children:[Object(y.jsx)(V.a,{m:1,children:Object(y.jsx)(U.a,{color:"secondary",variant:"contained",onClick:function(){return f.goBack()},children:"Cancel"})}),Object(y.jsx)(V.a,{m:1,children:Object(y.jsx)(U.a,{disabled:p,color:"primary",variant:"contained",onClick:w,children:"Verify Code"})})]})})]});return Object(y.jsx)(_.a,{className:e.root,container:!0,direction:"row",justify:"center",alignItems:"center",children:Object(y.jsx)(_.a,{xs:11,sm:6,lg:4,container:!0,direction:"row",justify:"center",alignItems:"center",item:!0,children:Object(y.jsx)(A.a,{style:{width:"100%",padding:32},children:Object(y.jsxs)(_.a,{container:!0,direction:"column",justify:"center",alignItems:"center",children:[Object(y.jsx)(V.a,{m:2,children:Object(y.jsx)(T.a,{variant:"h3",children:"Send Reset Code"})}),h?g:S]})})})})}var $=Object(E.a)({root:{height:"100vh"}});function ee(){var e=$(),t=F(""),n=t.code,r=t.setCode,c=t.codeIsValid,s=L(""),i=s.password,o=s.setPassword,j=s.passwordIsValid,d=W(""),u=d.username,h=d.setUsername,b=d.usernameIsValid,p=Object(a.useState)(""),f=Object(m.a)(p,2),v=f[0],w=f[1],g=Object(a.useState)(!1),S=Object(m.a)(g,2),C=S[0],P=S[1],k=L(""),E=k.password,R=k.setPassword,N=k.passwordIsValid,D=!c||0===n.length||!b||0===u.length||!j||0===i.length||!N||0===E.length,B=Object(l.f)(),z=Object(a.useContext)(I),M=function(){var e=Object(x.a)(O.a.mark((function e(){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,z.forgotPassword(u,n,i);case 3:P(!0),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),e.t0 instanceof Error&&w(e.t0.message);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}(),J=Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(V.a,{width:"80%",m:1,children:Object(y.jsx)(K,{codeIsValid:c,setCode:r})}),Object(y.jsx)(V.a,{width:"80%",m:1,children:Object(y.jsx)(q,{usernameIsValid:b,setUsername:h})}),Object(y.jsx)(V.a,{width:"80%",m:1,children:Object(y.jsx)(H,{label:"Password",passwordIsValid:j,setPassword:o})}),Object(y.jsx)(V.a,{width:"80%",m:1,children:Object(y.jsx)(H,{label:"Confirm Password",passwordIsValid:N,setPassword:R})}),Object(y.jsx)(V.a,{mt:2,children:Object(y.jsx)(T.a,{color:"error",variant:"body2",children:v})}),Object(y.jsx)(V.a,{mt:2,children:Object(y.jsxs)(_.a,{container:!0,direction:"row",justify:"center",children:[Object(y.jsx)(V.a,{m:1,children:Object(y.jsx)(U.a,{onClick:function(){return B.goBack()},color:"secondary",variant:"contained",children:"Cancel"})}),Object(y.jsx)(V.a,{m:1,children:Object(y.jsx)(U.a,{disabled:D,color:"primary",variant:"contained",onClick:M,children:"Change Password"})})]})})]}),Z=Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(T.a,{variant:"h5",children:"Password Reset"}),Object(y.jsx)(V.a,{m:4,children:Object(y.jsx)(U.a,{onClick:function(){return B.push("/signin")},color:"primary",variant:"contained",children:"Sign In"})})]});return Object(y.jsx)(_.a,{className:e.root,container:!0,direction:"row",justify:"center",alignItems:"center",children:Object(y.jsx)(_.a,{xs:11,sm:6,lg:4,container:!0,direction:"row",justify:"center",alignItems:"center",item:!0,children:Object(y.jsx)(A.a,{style:{width:"100%",padding:16},children:Object(y.jsxs)(_.a,{container:!0,direction:"column",justify:"center",alignItems:"center",children:[Object(y.jsx)(V.a,{m:3,children:Object(y.jsx)(_.a,{container:!0,direction:"row",justify:"center",alignItems:"center",children:Object(y.jsx)(T.a,{variant:"h3",children:"Forgot Password"})})}),C?Z:J]})})})})}var te=Object(E.a)({root:{height:"100vh"}});function ne(){var e=te(),t=Object(a.useState)(""),n=Object(m.a)(t,2),r=n[0],c=n[1],s=Object(a.useState)(!1),i=Object(m.a)(s,2),o=i[0],j=i[1],d=L(""),u=d.password,h=d.setPassword,b=d.passwordIsValid,p=L(""),f=p.password,v=p.setPassword,w=p.passwordIsValid,g=!b||0===u.length||!w||0===f.length,S=Object(l.f)(),C=Object(a.useContext)(I),P=function(){var e=Object(x.a)(O.a.mark((function e(){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,C.changePassword(u,f);case 3:j(!0),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),c(e.t0.message);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}(),k=function(){var e=Object(x.a)(O.a.mark((function e(){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,C.signOut();case 3:S.push("/"),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),e.t0 instanceof Error&&c(e.t0.message);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}(),E=Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(V.a,{width:"80%",m:1,children:Object(y.jsx)(H,{label:"Old Password",passwordIsValid:b,setPassword:h})}),Object(y.jsx)(V.a,{width:"80%",m:1,children:Object(y.jsx)(H,{label:"Password",passwordIsValid:w,setPassword:v})}),Object(y.jsx)(V.a,{mt:2,children:Object(y.jsx)(T.a,{color:"error",variant:"body2",children:r})}),Object(y.jsx)(V.a,{mt:2,children:Object(y.jsxs)(_.a,{container:!0,direction:"row",justify:"center",children:[Object(y.jsx)(V.a,{m:1,children:Object(y.jsx)(U.a,{onClick:function(){return S.goBack()},color:"secondary",variant:"contained",children:"Cancel"})}),Object(y.jsx)(V.a,{m:1,children:Object(y.jsx)(U.a,{disabled:g,color:"primary",variant:"contained",onClick:P,children:"Change Password"})})]})})]}),R=Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(T.a,{variant:"h5",children:"Password Changed"}),Object(y.jsx)(V.a,{m:4,children:Object(y.jsx)(U.a,{onClick:k,color:"primary",variant:"contained",children:"Sign In"})})]});return Object(y.jsx)(_.a,{className:e.root,container:!0,direction:"row",justify:"center",alignItems:"center",children:Object(y.jsx)(_.a,{xs:11,sm:6,lg:4,container:!0,direction:"row",justify:"center",alignItems:"center",item:!0,children:Object(y.jsx)(A.a,{style:{width:"100%",padding:16},children:Object(y.jsxs)(_.a,{container:!0,direction:"column",justify:"center",alignItems:"center",children:[Object(y.jsx)(V.a,{m:3,children:Object(y.jsx)(_.a,{container:!0,direction:"row",justify:"center",alignItems:"center",children:Object(y.jsx)(T.a,{variant:"h3",children:"Change Password"})})}),o?R:E]})})})})}var re=n(305),ae=Object(E.a)((function(e){return{root:{},title:{textAlign:"center"},session:{width:"80vw",overflow:"auto",overflowWrap:"break-word",fontSize:"16px"},hero:{width:"100%",background:"rgb(220,220,220)"}}}));function ce(){var e=ae(),t=Object(l.f)(),n=Object(a.useContext)(I);return Object(y.jsx)(_.a,{container:!0,children:Object(y.jsxs)(_.a,{className:e.root,container:!0,direction:"column",justify:"center",alignItems:"center",children:[Object(y.jsx)(V.a,{className:e.hero,p:4,children:Object(y.jsxs)(_.a,{className:e.root,container:!0,direction:"column",justify:"center",alignItems:"center",children:[Object(y.jsx)(V.a,{m:2}),Object(y.jsx)(V.a,{m:2,children:Object(y.jsx)(re.a,{underline:"none",color:"inherit",children:Object(y.jsxs)(_.a,{container:!0,direction:"row",justify:"center",alignItems:"center",children:[Object(y.jsx)(V.a,{mr:3}),Object(y.jsx)(T.a,{className:e.title,variant:"h3",children:"AWS Cognito Home"})]})})}),Object(y.jsx)(V.a,{m:2,children:Object(y.jsx)(U.a,{onClick:function(){n.signOut(),t.push("/")},variant:"contained",color:"primary",children:"Sign Out"})}),Object(y.jsx)(V.a,{m:2,children:Object(y.jsx)(U.a,{onClick:function(){t.push("changepassword")},variant:"contained",color:"primary",children:"Change Password"})})]})}),Object(y.jsxs)(V.a,{m:2,children:[Object(y.jsx)(T.a,{variant:"h5",children:"Session Info"}),Object(y.jsx)("pre",{className:e.session,children:JSON.stringify(n.sessionInfo,null,2)})]}),Object(y.jsxs)(V.a,{m:2,children:[Object(y.jsx)(T.a,{variant:"h5",children:"User Attributes"}),Object(y.jsx)("pre",{className:e.session,children:JSON.stringify(n.attrInfo,null,2)})]})]})})}var se={proData:[],setPrices:function(e,t){},setAction:function(){},total:0,isAction:!0},ie=Object(a.createContext)(se),oe=function(e){var t=e.children,n=Object(a.useState)([]),r=Object(m.a)(n,2),c=r[0],s=r[1],i=Object(a.useState)(0),o=Object(m.a)(i,2),l=o[0],j=o[1],d=Object(a.useState)(!0),u=Object(m.a)(d,2),h=u[0],b=u[1];return Object(a.useEffect)((function(){}),[]),Object(a.useEffect)((function(){var e=0;c.map((function(t){e+=t.totalPrice})),j(e)}),[h]),Object(y.jsx)(ie.Provider,{value:{proData:c,setPrices:function(e,t){var n=c.filter((function(t){return t.productId===e}));c[c.indexOf(n[0])].totalPrice=t,s(c)},total:l,isAction:h,setAction:function(){return b(!h)}},children:t})},le=n(306),je=n(307),de=n(308),ue=n(309),he=n(310),be=n(311),Oe=n(312),xe=n(313),me=n(314),pe=n(315),fe=n(316),ve=n(134),we=n.n(ve),ge=Object(a.createContext)(void 0),ye=function(e){var t=e.children,n=Object(a.useContext)(I),r=Object(a.useState)([]),c=Object(m.a)(r,2),s=c[0],i=c[1],o=Object(a.useState)(!0),l=Object(m.a)(o,2),j=l[0],d=l[1],u=Object(a.useState)(null),h=Object(m.a)(u,2),b=h[0],f=h[1],v=n.authStatus;return Object(a.useEffect)((function(){var e=function(){var e=Object(x.a)(O.a.mark((function e(){var t,n,r,a,c;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_URL:"https://llqwp3a2sg.execute-api.us-east-2.amazonaws.com/stage/api"})),e.prev=2,r=window.localStorage.getItem("accessToken"),e.next=6,p.a.get("".concat(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_URL:"https://llqwp3a2sg.execute-api.us-east-2.amazonaws.com/stage/api"}).API_BASE_URL,"/getUsers"),{headers:{Authorization:"".concat(r)}});case 6:if(200!=(null===(a=e.sent)||void 0===a||null===(t=a.data)||void 0===t?void 0:t.statusCode)){e.next=10;break}return i(null===a||void 0===a||null===(c=a.data)||void 0===c?void 0:c.response),e.abrupt("return");case 10:f(null===a||void 0===a||null===(n=a.data)||void 0===n?void 0:n.response),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(2),f("Failed to fetch users");case 16:return e.prev=16,d(!1),e.finish(16);case 19:case"end":return e.stop()}}),e,null,[[2,13,16,19]])})));return function(){return e.apply(this,arguments)}}();e()}),[v]),Object(y.jsx)(ge.Provider,{value:{users:s,loading:j,error:b},children:t})},Se=function(){var e=Object(a.useContext)(ge);if(!e)return Object(y.jsx)("div",{children:"Loading..."});var t=e.users,n=void 0===t?[]:t,r=e.loading,c=e.error;return r?Object(y.jsx)("div",{children:"Loading..."}):c?Object(y.jsx)("div",{children:c}):Object(y.jsxs)(_.a,{container:!0,spacing:2,children:[Object(y.jsx)(_.a,{item:!0,xs:12,children:Object(y.jsx)(le.a,{position:"static",children:Object(y.jsxs)(je.a,{children:[Object(y.jsx)(de.a,{edge:"start",color:"inherit","aria-label":"menu",children:Object(y.jsx)(we.a,{})}),Object(y.jsx)(T.a,{variant:"h6",children:"Users Management"})]})})}),Object(y.jsx)(_.a,{item:!0,xs:12,children:Object(y.jsx)(ue.a,{children:Object(y.jsxs)(he.a,{children:[Object(y.jsx)(T.a,{variant:"h5",component:"h2",gutterBottom:!0,children:"Users List"}),Object(y.jsx)(be.a,{children:Object(y.jsxs)(Oe.a,{"aria-label":"simple table",children:[Object(y.jsx)(xe.a,{children:Object(y.jsxs)(me.a,{children:[Object(y.jsx)(pe.a,{children:"First Name"}),Object(y.jsx)(pe.a,{children:"Email"}),Object(y.jsx)(pe.a,{children:"UserStatus"}),Object(y.jsx)(pe.a,{children:"Action"})]})}),Object(y.jsx)(fe.a,{children:null===n||void 0===n?void 0:n.map((function(e,t){return Object(y.jsxs)(me.a,{children:[Object(y.jsx)(pe.a,{component:"th",scope:"row",children:e.name}),Object(y.jsx)(pe.a,{children:e.email}),Object(y.jsx)(pe.a,{children:e.UserStatus}),Object(y.jsx)(pe.a,{children:Object(y.jsx)(U.a,{variant:"contained",color:"primary",children:"Edit"})})]},t)}))})]})})]})})})]})},Ie=function(){return Object(y.jsx)(oe,{children:Object(y.jsx)(Se,{})})},Ce=Object(j.a)({palette:{type:"light"}});Ce=Object(d.a)(Ce);var Pe=function(){return Object(y.jsx)(o.a,{children:Object(y.jsxs)(l.c,{children:[Object(y.jsx)(l.a,{path:"/usersList",component:Ie}),Object(y.jsx)(l.a,{path:"/signin",component:M}),Object(y.jsx)(l.a,{path:"/signup",component:Z}),Object(y.jsx)(l.a,{path:"/verify",component:Q}),Object(y.jsx)(l.a,{path:"/requestcode",component:Y}),Object(y.jsx)(l.a,{path:"/forgotpassword",component:ee}),Object(y.jsx)(l.a,{path:"/",component:M})]})})},ke=function(){return Object(y.jsx)(o.a,{children:Object(y.jsxs)(l.c,{children:[Object(y.jsx)(l.a,{path:"/changepassword",component:ne}),Object(y.jsx)(l.a,{path:"/",component:ce})]})})},Ee=function(){return Object(y.jsxs)(u.a,{theme:Ce,children:[Object(y.jsx)(h.a,{}),Object(y.jsxs)(k,{children:[Object(y.jsx)(C,{children:Object(y.jsx)(ke,{})}),Object(y.jsx)(P,{children:Object(y.jsx)(ye,{children:Object(y.jsx)(Pe,{})})})]})]})};i.a.render(Object(y.jsx)(c.a.StrictMode,{children:Object(y.jsx)(Ee,{})}),document.getElementById("root"))}},[[269,1,2]]]);
//# sourceMappingURL=main.0e34bf08.chunk.js.map